<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BaneWorkout - G√©n√©rateur de Programmes d'Entra√Ænement</title>
    <!-- PayPal SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID&currency=EUR"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 0.95em;
        }

        input[type="number"],
        input[type="text"],
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus,
        input[type="text"]:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 5px rgba(102, 126, 234, 0.3);
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
        }

        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-right: 8px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .checkbox-item label {
            margin-bottom: 0;
            font-weight: 500;
            cursor: pointer;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 25px;
        }

        button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-generate {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-generate:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-generate:active {
            transform: translateY(0);
        }

        .btn-reset {
            background: #f0f0f0;
            color: #333;
        }

        .btn-reset:hover {
            background: #e0e0e0;
        }

        .btn-download {
            background: #4caf50;
            color: white;
        }

        .btn-download:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .btn-copy {
            background: #2196f3;
            color: white;
            font-size: 0.9em;
            padding: 10px 15px;
        }

        .btn-copy:hover {
            background: #0b7dda;
        }

        .results-container {
            display: none;
        }

        .results-container.active {
            display: block;
        }

        .workout-schedule {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .workout-day {
            background: #f9f9f9;
            border-left: 5px solid #667eea;
            padding: 20px;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .workout-day:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        .workout-day h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .exercise-list {
            list-style: none;
        }

        .exercise-item {
            background: white;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 5px;
            border-left: 3px solid #764ba2;
        }

        .exercise-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .exercise-details {
            font-size: 0.9em;
            color: #666;
            line-height: 1.5;
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
        }

        .stat-box .value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-box .label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .error {
            background: #ffebee;
            color: #c62828;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #c62828;
            display: none;
        }

        .error.active {
            display: block;
        }

        .success {
            background: #e8f5e9;
            color: #2e7d32;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #4caf50;
            display: none;
        }

        .success.active {
            display: block;
        }

        .rest-day {
            background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
            border-left-color: #999;
        }

        .rest-day h3 {
            color: #999;
        }

        .rest-content {
            color: #666;
            font-style: italic;
            text-align: center;
            padding: 20px 0;
        }

        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 2em;
            }

            .workout-schedule {
                grid-template-columns: 1fr;
            }

            .button-group {
                flex-direction: column;
            }
        }

        .copy-feedback {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            display: none;
            z-index: 1000;
            animation: slideIn 0.3s ease;
        }

        .copy-feedback.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* PayPal Payment Section Styles */
        .payment-section {
            background: white;
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 600px;
            margin: 0 auto 30px;
        }

        .payment-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .payment-section .price {
            font-size: 3em;
            font-weight: bold;
            color: #764ba2;
            margin: 20px 0;
        }

        .payment-section .price-description {
            color: #666;
            font-size: 1.1em;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .payment-section ul {
            text-align: left;
            list-style: none;
            margin: 20px 0;
            padding: 0;
        }

        .payment-section ul li {
            padding: 10px 0;
            color: #333;
            font-size: 1.05em;
        }

        .payment-section ul li:before {
            content: "‚úì ";
            color: #4caf50;
            font-weight: bold;
            margin-right: 10px;
        }

        #paypal-button-container {
            margin: 30px auto;
            max-width: 400px;
        }

        .payment-locked {
            opacity: 0.5;
            pointer-events: none;
            position: relative;
        }

        .payment-locked:after {
            content: "üîí Paiement requis pour d√©bloquer";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 20px 40px;
            border-radius: 10px;
            font-weight: bold;
            color: #764ba2;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            font-size: 1.2em;
        }

        .payment-success {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.2em;
            animation: slideIn 0.5s ease;
        }

        .payment-success .check-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        /* Footer Styles */
        footer {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: white;
            padding: 40px 20px 20px;
            margin-top: 60px;
            text-align: center;
        }

        footer .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        footer .footer-main {
            font-size: 1.1em;
            line-height: 1.8;
            margin-bottom: 20px;
        }

        footer .footer-main strong {
            color: #667eea;
            font-size: 1.2em;
        }

        footer .footer-warning {
            background: rgba(255, 107, 53, 0.1);
            border: 2px solid #ff6b35;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            font-size: 0.95em;
            line-height: 1.6;
        }

        footer .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        footer .footer-links a {
            color: #667eea;
            text-decoration: none;
            font-size: 1.1em;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        footer .footer-links a:hover {
            color: #8a9ef7;
            transform: translateY(-2px);
        }

        footer .footer-bottom {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9em;
            color: #999;
        }

        .loading-spinner {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading-spinner.active {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hidden {
            display: none !important;
        }

        /* Legal page styles */
        .legal-content {
            background: white;
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            max-width: 900px;
            margin: 0 auto;
        }

        .legal-content h2 {
            color: #667eea;
            margin: 30px 0 15px;
            font-size: 1.5em;
        }

        .legal-content h3 {
            color: #764ba2;
            margin: 20px 0 10px;
            font-size: 1.2em;
        }

        .legal-content p, .legal-content li {
            line-height: 1.8;
            color: #333;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üí™ BaneWorkout</h1>
            <p>Votre g√©n√©rateur de programme d'entra√Ænement personnalis√©</p>
        </header>

        <!-- PayPal Payment Section -->
        <div id="paymentSection" class="payment-section">
            <h2>üîí D√©bloquez Votre Programme Personnalis√©</h2>
            <div class="price">9,90‚Ç¨</div>
            <p class="price-description">
                Obtenez un acc√®s imm√©diat √† votre programme d'entra√Ænement sur mesure, 
                con√ßu sp√©cifiquement pour vos objectifs et votre niveau.
            </p>
            <ul>
                <li>Programme 100% personnalis√© selon vos objectifs</li>
                <li>Adapt√© √† votre niveau (d√©butant √† avanc√©)</li>
                <li>R√©partition intelligente sur vos jours disponibles</li>
                <li>Exercices d√©taill√©s avec s√©ries, r√©p√©titions et temps de repos</li>
                <li>T√©l√©chargement et copie instantan√©s</li>
                <li>Acc√®s imm√©diat apr√®s paiement</li>
            </ul>
            <div id="paypal-button-container"></div>
            <p style="color: #666; font-size: 0.9em; margin-top: 20px;">
                üí≥ Paiement s√©curis√© par PayPal ‚Ä¢ Mode Sandbox activ√© pour les tests
            </p>
        </div>

        <div id="mainContent" class="payment-locked">
            <div class="main-grid">
            <!-- Input Form -->
            <div class="card">
                <h2>Configuration du Programme</h2>
                
                <div class="error" id="errorMessage"></div>
                <div class="success" id="successMessage"></div>

                <form id="workoutForm">
                    <div class="form-group">
                        <label for="weight">Poids du Corps (lbs)</label>
                        <input type="number" id="weight" name="weight" min="50" max="500" step="0.5" placeholder="ex: 180" required>
                    </div>

                    <div class="form-group">
                        <label for="goal">Objectif Principal</label>
                        <select id="goal" name="goal" required>
                            <option value="">S√©lectionnez un objectif...</option>
                            <option value="strength">Force & Puissance</option>
                            <option value="muscle">Prise de Masse (Hypertrophie)</option>
                            <option value="endurance">Endurance & Stamina</option>
                            <option value="weight-loss">Perte de Poids & Tonification</option>
                            <option value="balanced">Fitness √âquilibr√©</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="experience">Niveau d'Exp√©rience</label>
                        <select id="experience" name="experience" required>
                            <option value="">S√©lectionnez votre niveau...</option>
                            <option value="beginner">D√©butant (0-6 mois)</option>
                            <option value="intermediate">Interm√©diaire (6 mois-2 ans)</option>
                            <option value="advanced">Avanc√© (2+ ans)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Jours d'Entra√Ænement Disponibles</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="mon" name="days" value="Lundi">
                                <label for="mon">Lundi</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="tue" name="days" value="Mardi">
                                <label for="tue">Mardi</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="wed" name="days" value="Mercredi">
                                <label for="wed">Mercredi</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="thu" name="days" value="Jeudi">
                                <label for="thu">Jeudi</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="fri" name="days" value="Vendredi">
                                <label for="fri">Vendredi</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="sat" name="days" value="Samedi">
                                <label for="sat">Samedi</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="sun" name="days" value="Dimanche">
                                <label for="sun">Dimanche</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="sessionDuration">Dur√©e de S√©ance (minutes)</label>
                        <input type="number" id="sessionDuration" name="sessionDuration" min="20" max="180" step="5" value="60" required>
                    </div>

                    <div class="button-group">
                        <button type="submit" class="btn-generate">G√©n√©rer le Programme</button>
                        <button type="reset" class="btn-reset">R√©initialiser</button>
                    </div>
                </form>
            </div>

            <!-- Program Overview -->
            <div class="card">
                <h2>R√©sum√© du Programme</h2>
                <div id="programInfo" style="color: #999; text-align: center; padding: 40px 0;">
                    <p>Remplissez le formulaire de configuration et cliquez sur "G√©n√©rer le Programme" pour cr√©er votre plan d'entra√Ænement personnalis√©.</p>
                </div>
                <div class="loading-spinner" id="loadingSpinner">
                    <div class="spinner"></div>
                    <p>G√©n√©ration de votre programme en cours...</p>
                </div>
                <div class="summary-stats" id="summaryStats" style="display: none;">
                    <div class="stat-box">
                        <div class="value" id="totalDays">0</div>
                        <div class="label">Jours d'Entra√Ænement</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="totalExercises">0</div>
                        <div class="label">Exercices Total</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="totalVolume">0</div>
                        <div class="label">S√©ries Totales</div>
                    </div>
                    <div class="stat-box">
                        <div class="value" id="weeklyHours">0</div>
                        <div class="label">Heures Hebdomadaires</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="results-container" id="resultsContainer">
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px;">
                    <h2 style="margin: 0;">Votre Programme d'Entra√Ænement Personnalis√©</h2>
                    <div class="button-group" style="margin: 0; flex: 0;">
                        <button class="btn-copy" onclick="copyToClipboard()">üìã Copier</button>
                        <button class="btn-download" onclick="downloadProgram()">‚¨áÔ∏è T√©l√©charger</button>
                    </div>
                </div>
                
                <div class="workout-schedule" id="workoutSchedule"></div>
            </div>
        </div>
        </div>
    </div>

    <div class="copy-feedback" id="copyFeedback">‚úì Programme copi√© dans le presse-papier !</div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-main">
                <strong>Application cr√©√©e et d√©velopp√©e par Bastien Verdu</strong><br>
                √âdition workout-brothers
            </div>
            
            <div class="footer-warning">
                ‚öñÔ∏è <strong>Propri√©t√© intellectuelle exclusive</strong><br>
                Toute copie, reproduction ou utilisation non autoris√©e de cette application 
                fera l'objet de poursuites judiciaires conform√©ment aux lois sur la propri√©t√© intellectuelle.
            </div>
            
            <div class="footer-links">
                <a href="https://instagram.com/workoutbrothers" target="_blank" rel="noopener">
                    üì± Instagram @workoutbrothers
                </a>
                <a href="#" onclick="showLegalPage(); return false;">
                    üìÑ Mentions L√©gales
                </a>
                <a href="mailto:therealbane666@gmail.com">
                    ‚úâÔ∏è Contact
                </a>
            </div>
            
            <div class="footer-bottom">
                ¬© 2024 BaneWorkout - Tous droits r√©serv√©s ‚Ä¢ Bastien Verdu - √âdition workout-brothers
            </div>
        </div>
    </footer>

    <script>
        // PayPal Configuration
        const PAYPAL_PRICE = '9.90'; // Prix facilement modifiable
        let paymentCompleted = false;

        // Initialize PayPal Buttons
        if (window.paypal) {
            paypal.Buttons({
                style: {
                    layout: 'vertical',
                    color: 'blue',
                    shape: 'rect',
                    label: 'paypal'
                },
                createOrder: function(data, actions) {
                    return actions.order.create({
                        purchase_units: [{
                            description: 'Programme d\'entra√Ænement personnalis√© BaneWorkout',
                            amount: {
                                currency_code: 'EUR',
                                value: PAYPAL_PRICE
                            }
                        }]
                    });
                },
                onApprove: function(data, actions) {
                    return actions.order.capture().then(function(details) {
                        // Paiement r√©ussi
                        paymentCompleted = true;
                        
                        // Masquer la section de paiement
                        document.getElementById('paymentSection').style.display = 'none';
                        
                        // D√©bloquer le contenu
                        const mainContent = document.getElementById('mainContent');
                        mainContent.classList.remove('payment-locked');
                        
                        // Afficher message de succ√®s
                        const successDiv = document.createElement('div');
                        successDiv.className = 'payment-success';
                        successDiv.innerHTML = `
                            <div class="check-icon">‚úì</div>
                            <div>Paiement valid√© avec succ√®s !</div>
                            <div style="font-size: 0.9em; margin-top: 10px;">
                                Merci ${details.payer.name.given_name}. Vous pouvez maintenant g√©n√©rer votre programme personnalis√©.
                            </div>
                        `;
                        mainContent.insertBefore(successDiv, mainContent.firstChild);
                        
                        // Stocker l'√©tat de paiement (pour cette session)
                        sessionStorage.setItem('baneWorkoutPaid', 'true');
                        sessionStorage.setItem('payerName', details.payer.name.given_name);
                        
                        // Scroll vers le formulaire
                        mainContent.scrollIntoView({ behavior: 'smooth' });
                    });
                },
                onError: function(err) {
                    console.error('Erreur PayPal:', err);
                    alert('Une erreur est survenue lors du paiement. Veuillez r√©essayer.');
                }
            }).render('#paypal-button-container');
        }

        // V√©rifier si le paiement a d√©j√† √©t√© effectu√© (session)
        window.addEventListener('DOMContentLoaded', function() {
            if (sessionStorage.getItem('baneWorkoutPaid') === 'true') {
                paymentCompleted = true;
                document.getElementById('paymentSection').style.display = 'none';
                const mainContent = document.getElementById('mainContent');
                mainContent.classList.remove('payment-locked');
                
                const payerName = sessionStorage.getItem('payerName') || 'utilisateur';
                const successDiv = document.createElement('div');
                successDiv.className = 'payment-success';
                successDiv.innerHTML = `
                    <div class="check-icon">‚úì</div>
                    <div>Acc√®s d√©bloqu√© - Paiement valid√©</div>
                    <div style="font-size: 0.9em; margin-top: 10px;">
                        Bienvenue ${payerName} !
                    </div>
                `;
                mainContent.insertBefore(successDiv, mainContent.firstChild);
            }
        });

        // Fonction pour afficher la page l√©gale
        function showLegalPage() {
            const container = document.querySelector('.container');
            const footer = document.querySelector('footer');
            
            container.innerHTML = `
                <header>
                    <h1>üí™ BaneWorkout</h1>
                    <p>Mentions L√©gales</p>
                </header>
                
                <div class="legal-content">
                    <h2>üìã Mentions L√©gales</h2>
                    
                    <h3>√âditeur de l'application</h3>
                    <p>
                        <strong>Bastien Verdu</strong><br>
                        √âdition workout-brothers<br>
                        Email : therealbane666@gmail.com
                    </p>
                    
                    <h3>Propri√©t√© intellectuelle</h3>
                    <p>
                        L'ensemble du contenu de cette application (structure, textes, graphismes, logos, 
                        algorithmes, programmes) est la propri√©t√© exclusive de Bastien Verdu.
                    </p>
                    <p>
                        Toute reproduction, repr√©sentation, modification, publication, transmission, 
                        d√©naturation, totale ou partielle de l'application ou de son contenu, par quelque 
                        proc√©d√© que ce soit, et sur quelque support que ce soit, est interdite sans 
                        l'autorisation √©crite pr√©alable de l'√©diteur.
                    </p>
                    <p>
                        Toute exploitation non autoris√©e de l'application, de son contenu ou de tout √©l√©ment 
                        qui y est contenu sera consid√©r√©e comme constitutive d'une contrefa√ßon et poursuivie 
                        conform√©ment aux dispositions des articles L.335-2 et suivants du Code de Propri√©t√© 
                        Intellectuelle.
                    </p>
                    
                    <h3>H√©bergement</h3>
                    <p>
                        Cette application peut √™tre h√©berg√©e sur diff√©rentes plateformes (GitHub Pages, 
                        Vercel, Netlify) selon la configuration du d√©ploiement.
                    </p>
                    
                    <h3>Donn√©es personnelles</h3>
                    <p>
                        Cette application ne collecte aucune donn√©e personnelle. Les informations saisies 
                        dans le formulaire sont uniquement utilis√©es localement dans votre navigateur pour 
                        g√©n√©rer votre programme d'entra√Ænement et ne sont jamais transmises √† un serveur.
                    </p>
                    <p>
                        Les paiements sont trait√©s de mani√®re s√©curis√©e par PayPal. Nous ne stockons aucune 
                        information de paiement.
                    </p>
                    
                    <h3>Cookies</h3>
                    <p>
                        Cette application utilise uniquement le stockage de session local (sessionStorage) 
                        pour m√©moriser l'√©tat de votre paiement pendant votre visite. Aucune information 
                        n'est conserv√©e apr√®s la fermeture de votre navigateur.
                    </p>
                    
                    <h3>Limitation de responsabilit√©</h3>
                    <p>
                        Les programmes d'entra√Ænement g√©n√©r√©s sont fournis √† titre indicatif. Il est 
                        recommand√© de consulter un professionnel de sant√© avant de commencer tout nouveau 
                        programme d'exercice physique.
                    </p>
                    <p>
                        L'√©diteur ne saurait √™tre tenu responsable des dommages directs ou indirects qui 
                        pourraient r√©sulter de l'utilisation des programmes g√©n√©r√©s par cette application.
                    </p>
                    
                    <h3>Mode Sandbox PayPal</h3>
                    <p>
                        <strong>‚ö†Ô∏è IMPORTANT POUR LES D√âVELOPPEURS :</strong> Cette application est 
                        actuellement configur√©e en mode SANDBOX (test) PayPal.
                    </p>
                    <p>
                        Pour passer en mode PRODUCTION et accepter de vrais paiements :
                    </p>
                    <ol>
                        <li>Cr√©ez un compte professionnel PayPal Business</li>
                        <li>Obtenez vos identifiants Client ID de production</li>
                        <li>Dans le fichier HTML, remplacez dans la balise script PayPal :<br>
                            <code>client-id=YOUR_PAYPAL_CLIENT_ID</code><br>
                            par votre vrai Client ID de production</li>
                        <li>Supprimez ou modifiez le message "Mode Sandbox" dans l'interface</li>
                    </ol>
                    
                    <h3>Contact</h3>
                    <p>
                        Pour toute question concernant ces mentions l√©gales, vous pouvez nous contacter √† :<br>
                        <strong>therealbane666@gmail.com</strong>
                    </p>
                    
                    <div style="margin-top: 40px; text-align: center;">
                        <button onclick="window.location.reload()" class="btn-generate">
                            ‚Üê Retour √† l'application
                        </button>
                    </div>
                </div>
            `;
            
            window.scrollTo(0, 0);
        }

        // Workout database (traduction en fran√ßais des notes)
        const workoutDatabase = {
            strength: {
                beginner: {
                    upper: [
                        { name: 'D√©velopp√© Couch√©', sets: 3, reps: '5-6', rest: '3 min', notes: 'Focus force principal' },
                        { name: 'Rowing Barre', sets: 3, reps: '5-6', rest: '3 min', notes: '√âquilibrer pouss√©e/tirage' },
                        { name: 'D√©velopp√© Militaire', sets: 3, reps: '5-6', rest: '2.5 min', notes: '' },
                        { name: 'Tractions/Assist√©es', sets: 3, reps: '6-8', rest: '2 min', notes: '' },
                        { name: 'Curl Barre', sets: 2, reps: '6-8', rest: '90 sec', notes: '' }
                    ],
                    lower: [
                        { name: 'Squat', sets: 3, reps: '5-6', rest: '3 min', notes: 'Focus force principal' },
                        { name: 'Soulev√© de Terre', sets: 2, reps: '3-5', rest: '3 min', notes: 'Mouvement lourd' },
                        { name: 'Presse √† Cuisses', sets: 3, reps: '6-8', rest: '2 min', notes: '' },
                        { name: 'Leg Curl', sets: 3, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: 'Mollets Debout', sets: 3, reps: '10-12', rest: '60 sec', notes: '' }
                    ]
                },
                intermediate: {
                    upper: [
                        { name: 'D√©velopp√© Couch√©', sets: 4, reps: '4-6', rest: '3 min', notes: 'Focus force principal' },
                        { name: 'D√©velopp√© Inclin√© Barre', sets: 3, reps: '6-8', rest: '2.5 min', notes: '' },
                        { name: 'Rowing Barre', sets: 4, reps: '4-6', rest: '3 min', notes: 'Mouvement lourd' },
                        { name: 'Tractions Lest√©es', sets: 3, reps: '5-8', rest: '2.5 min', notes: '' },
                        { name: 'Curl Barre', sets: 3, reps: '6-8', rest: '2 min', notes: '' },
                        { name: 'Dips', sets: 3, reps: '6-8', rest: '2 min', notes: '' }
                    ],
                    lower: [
                        { name: 'Squat', sets: 4, reps: '4-6', rest: '3 min', notes: 'Focus force principal' },
                        { name: 'Front Squat', sets: 3, reps: '5-6', rest: '2.5 min', notes: '' },
                        { name: 'Soulev√© de Terre', sets: 3, reps: '3-5', rest: '3 min', notes: 'Mouvement lourd' },
                        { name: 'Fentes March√©es', sets: 3, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: 'Leg Curl', sets: 3, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: 'Mollets Debout', sets: 3, reps: '10-15', rest: '60 sec', notes: '' }
                    ]
                },
                advanced: {
                    upper: [
                        { name: 'D√©velopp√© Couch√©', sets: 5, reps: '3-5', rest: '3.5 min', notes: 'Focus force principal' },
                        { name: 'D√©velopp√© Inclin√© Barre', sets: 4, reps: '4-6', rest: '3 min', notes: '' },
                        { name: 'Rowing Barre', sets: 5, reps: '3-5', rest: '3.5 min', notes: 'Mouvement lourd' },
                        { name: 'Tractions Lest√©es', sets: 4, reps: '4-6', rest: '3 min', notes: '' },
                        { name: 'Curl Barre', sets: 3, reps: '5-7', rest: '2 min', notes: '' },
                        { name: 'D√©velopp√© Serr√©', sets: 3, reps: '5-7', rest: '2 min', notes: '' }
                    ],
                    lower: [
                        { name: 'Squat', sets: 5, reps: '3-5', rest: '3.5 min', notes: 'Focus force principal' },
                        { name: 'Front Squat', sets: 4, reps: '4-6', rest: '3 min', notes: '' },
                        { name: 'Soulev√© de Terre', sets: 4, reps: '2-4', rest: '3.5 min', notes: 'Mouvement lourd' },
                        { name: 'Squat Bulgare', sets: 3, reps: '6-8', rest: '2 min', notes: '' },
                        { name: 'Leg Curl', sets: 3, reps: '6-8', rest: '2 min', notes: '' },
                        { name: 'Mollets Lest√©s', sets: 4, reps: '8-12', rest: '90 sec', notes: '' }
                    ]
                }
            },
            muscle: {
                beginner: {
                    upper: [
                        { name: 'D√©velopp√© Couch√© Barre', sets: 4, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: '√âcart√©s Halt√®res', sets: 3, reps: '10-12', rest: '60 sec', notes: '' },
                        { name: 'Rowing Barre', sets: 4, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: 'Tirage Vertical', sets: 3, reps: '10-12', rest: '60 sec', notes: '' },
                        { name: 'Curl Halt√®res', sets: 3, reps: '10-12', rest: '60 sec', notes: '' },
                        { name: 'Extension Triceps Corde', sets: 3, reps: '10-12', rest: '60 sec', notes: '' }
                    ],
                    lower: [
                        { name: 'Squat Barre', sets: 4, reps: '8-10', rest: '2 min', notes: '' },
                        { name: 'Presse √† Cuisses', sets: 3, reps: '10-12', rest: '90 sec', notes: '' },
                        { name: 'Leg Curl', sets: 3, reps: '10-12', rest: '60 sec', notes: '' },
                        { name: 'Leg Extension', sets: 3, reps: '10-12', rest: '60 sec', notes: '' },
                        { name: 'Mollets Debout', sets: 4, reps: '12-15', rest: '60 sec', notes: '' }
                    ]
                },
                intermediate: {
                    upper: [
                        { name: 'D√©velopp√© Couch√© Barre', sets: 4, reps: '8-10', rest: '90 sec', notes: 'Focus principal' },
                        { name: 'D√©velopp√© Inclin√© Halt√®res', sets: 3, reps: '9-11', rest: '90 sec', notes: '' },
                        { name: '√âcart√©s Halt√®res', sets: 3, reps: '10-12', rest: '60 sec', notes: '' },
                        { name: 'Rowing Barre', sets: 4, reps: '8-10', rest: '90 sec', notes: 'Focus principal' },
                        { name: 'Rowing Seal', sets: 3, reps: '10-12', rest: '60 sec', notes: '' },
                        { name: 'Curl Halt√®res', sets: 3, reps: '10-12', rest: '70 sec', notes: '' },
                        { name: 'Dips', sets: 3, reps: '9-11', rest: '70 sec', notes: '' }
                    ],
                    lower: [
                        { name: 'Squat Barre', sets: 4, reps: '8-10', rest: '2 min', notes: 'Focus principal' },
                        { name: 'Presse Inclin√©e', sets: 3, reps: '10-12', rest: '90 sec', notes: '' },
                        { name: 'Leg Curl', sets: 3, reps: '10-12', rest: '70 sec', notes: '' },
                        { name: 'Leg Extension', sets: 3, reps: '10-12', rest: '70 sec', notes: '' },
                        { name: 'Hack Squat', sets: 3, reps: '10-12', rest: '90 sec', notes: '' },
                        { name: 'Mollets Debout', sets: 4, reps: '12-15', rest: '60 sec', notes: '' }
                    ]
                },
                advanced: {
                    upper: [
                        { name: 'D√©velopp√© Couch√© Barre', sets: 5, reps: '8-10', rest: '2 min', notes: 'Focus principal' },
                        { name: 'D√©velopp√© Inclin√© Barre', sets: 4, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: '√âcart√©s Halt√®res', sets: 3, reps: '10-12', rest: '60 sec', notes: '' },
                        { name: 'Rowing Barre', sets: 5, reps: '8-10', rest: '2 min', notes: 'Focus principal' },
                        { name: 'T-Bar Row', sets: 3, reps: '10-12', rest: '90 sec', notes: '' },
                        { name: 'Curl Halt√®res', sets: 3, reps: '10-12', rest: '70 sec', notes: '' },
                        { name: 'Curl Barre EZ', sets: 3, reps: '10-12', rest: '70 sec', notes: '' },
                        { name: 'Dips', sets: 4, reps: '8-10', rest: '90 sec', notes: '' }
                    ],
                    lower: [
                        { name: 'Squat Barre', sets: 5, reps: '8-10', rest: '2 min', notes: 'Focus principal' },
                        { name: 'Front Squat', sets: 3, reps: '8-10', rest: '2 min', notes: '' },
                        { name: 'Presse √† Cuisses', sets: 4, reps: '10-12', rest: '90 sec', notes: '' },
                        { name: 'Leg Curl', sets: 4, reps: '10-12', rest: '70 sec', notes: '' },
                        { name: 'Leg Extension', sets: 4, reps: '10-12', rest: '70 sec', notes: '' },
                        { name: 'Hack Squat', sets: 3, reps: '10-12', rest: '90 sec', notes: '' },
                        { name: 'Mollets Debout', sets: 5, reps: '12-15', rest: '60 sec', notes: '' }
                    ]
                }
            },
            endurance: {
                beginner: {
                    cardio: [
                        { name: 'Course Tapis', sets: 1, reps: '20-30 min', rest: '2-3 min marche', notes: 'Rythme stable' },
                        { name: 'Circuits Poids du Corps', sets: 3, reps: '40 sec / 20 sec repos', rest: '2 min', notes: 'Burpees, mountain climbers, jumping jacks' },
                        { name: 'Rameur', sets: 1, reps: '15-20 min', rest: 'N/A', notes: '√âtat stable' }
                    ],
                    strength: [
                        { name: 'Squats Halt√®res', sets: 3, reps: '12-15', rest: '60 sec', notes: '' },
                        { name: 'Pompes', sets: 3, reps: '10-15', rest: '60 sec', notes: '' },
                        { name: 'Fentes', sets: 3, reps: '12-15', rest: '60 sec', notes: '' },
                        { name: 'Rowing Halt√®res', sets: 3, reps: '12-15', rest: '60 sec', notes: '' }
                    ]
                },
                intermediate: {
                    cardio: [
                        { name: 'Course Intervalles', sets: 1, reps: '30-40 min mixte', rest: '2-3 min', notes: '2 min intense / 1 min facile' },
                        { name: 'HIIT Circuits', sets: 4, reps: '45 sec / 15 sec repos', rest: '2 min', notes: 'Exercices cardio vari√©s' },
                        { name: 'Rameur', sets: 1, reps: '20-25 min', rest: 'N/A', notes: 'Inclure sprints' }
                    ],
                    strength: [
                        { name: 'Squats Barre', sets: 3, reps: '10-12', rest: '90 sec', notes: '' },
                        { name: 'Pompes', sets: 3, reps: '15-20', rest: '60 sec', notes: '' },
                        { name: 'Squats Bulgares', sets: 3, reps: '12-15', rest: '60 sec', notes: '' },
                        { name: 'Rowing Barre', sets: 3, reps: '10-12', rest: '90 sec', notes: '' },
                        { name: 'Tractions', sets: 3, reps: '8-12', rest: '90 sec', notes: '' }
                    ]
                },
                advanced: {
                    cardio: [
                        { name: 'Course Longue Distance', sets: 1, reps: '45-60 min', rest: 'N/A', notes: 'Rythme stable, conversationnel' },
                        { name: 'HIIT Avanc√©', sets: 5, reps: '50 sec / 10 sec repos', rest: '2.5 min', notes: 'Haute intensit√© cardio mixte' },
                        { name: 'Rameur', sets: 1, reps: '30-40 min', rest: 'N/A', notes: 'Intervalles intenses inclus' }
                    ],
                    strength: [
                        { name: 'Squats Barre', sets: 4, reps: '8-10', rest: '2 min', notes: '' },
                        { name: 'Rowing Barre', sets: 4, reps: '8-10', rest: '2 min', notes: '' },
                        { name: 'Tractions', sets: 4, reps: '10-15', rest: '90 sec', notes: '' },
                        { name: 'Soulev√© Terre Une Jambe', sets: 3, reps: '10-12', rest: '90 sec', notes: '' },
                        { name: 'Pompes', sets: 3, reps: '20+', rest: '60 sec', notes: '' }
                    ]
                }
            },
            'weight-loss': {
                beginner: {
                    cardio: [
                        { name: 'Marche Rapide', sets: 1, reps: '30-40 min', rest: 'N/A', notes: 'Rythme mod√©r√©' },
                        { name: 'Corde √† Sauter', sets: 3, reps: '1 min', rest: '1 min', notes: '' },
                        { name: 'V√©lo', sets: 1, reps: '20-30 min', rest: 'N/A', notes: 'R√©sistance mod√©r√©e' }
                    ],
                    strength: [
                        { name: 'Squats Poids du Corps', sets: 3, reps: '15-20', rest: '60 sec', notes: '' },
                        { name: 'Pompes', sets: 3, reps: '10-15', rest: '60 sec', notes: '' },
                        { name: 'Fentes March√©es', sets: 3, reps: '12-15', rest: '60 sec', notes: '' },
                        { name: 'Burpees', sets: 2, reps: '10-12', rest: '90 sec', notes: '' },
                        { name: 'Mountain Climbers', sets: 3, reps: '20', rest: '60 sec', notes: '' }
                    ]
                },
                intermediate: {
                    cardio: [
                        { name: 'Course/Jogging', sets: 1, reps: '30-45 min', rest: 'N/A', notes: 'Rythme stable' },
                        { name: 'HIIT Corde √† Sauter', sets: 4, reps: '45 sec / 15 sec repos', rest: '2 min', notes: '' },
                        { name: 'V√©lo Intervalles', sets: 1, reps: '35-45 min mixte', rest: 'N/A', notes: '2 min intense / 1 min facile' }
                    ],
                    strength: [
                        { name: 'Squats Barre', sets: 3, reps: '12-15', rest: '90 sec', notes: '' },
                        { name: 'Pompes', sets: 3, reps: '15-20', rest: '60 sec', notes: '' },
                        { name: 'Fentes Halt√®res', sets: 3, reps: '12-15', rest: '60 sec', notes: '' },
                        { name: 'Rowing Halt√®res', sets: 3, reps: '12-15', rest: '60 sec', notes: '' },
                        { name: 'Burpees', sets: 3, reps: '12-15', rest: '60 sec', notes: '' },
                        { name: 'Jump Squats', sets: 3, reps: '15-20', rest: '60 sec', notes: '' }
                    ]
                },
                advanced: {
                    cardio: [
                        { name: 'Course Longue', sets: 1, reps: '45-60 min', rest: 'N/A', notes: 'Rythme stable' },
                        { name: 'HIIT Avanc√©', sets: 5, reps: '50 sec / 10 sec repos', rest: '2 min', notes: 'Mouvements complexes' },
                        { name: 'V√©lo', sets: 1, reps: '45-60 min', rest: 'N/A', notes: 'Intervalles intenses' }
                    ],
                    strength: [
                        { name: 'Squats Barre', sets: 4, reps: '10-12', rest: '90 sec', notes: '' },
                        { name: 'Pompes', sets: 4, reps: '20+', rest: '60 sec', notes: '' },
                        { name: 'Complexe Halt√®res', sets: 4, reps: '10-12', rest: '90 sec', notes: 'Mouvements multiples' },
                        { name: 'Kettlebell Swings', sets: 3, reps: '20', rest: '60 sec', notes: '' },
                        { name: 'Battle Ropes', sets: 3, reps: '30-40 sec', rest: '60 sec', notes: '' },
                        { name: 'Pouss√©e Tra√Æneau', sets: 3, reps: '30-40m', rest: '90 sec', notes: '' }
                    ]
                }
            },
            balanced: {
                beginner: {
                    workout: [
                        { name: 'Squats Barre', sets: 3, reps: '8-10', rest: '2 min', notes: '' },
                        { name: 'D√©velopp√© Couch√©', sets: 3, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: 'Rowing Barre', sets: 3, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: 'D√©velopp√© Militaire', sets: 2, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: 'Curl Halt√®res', sets: 2, reps: '10-12', rest: '60 sec', notes: '' },
                        { name: 'Dips', sets: 2, reps: '8-10', rest: '60 sec', notes: '' },
                        { name: 'Leg Extension', sets: 2, reps: '12-15', rest: '60 sec', notes: '' }
                    ]
                },
                intermediate: {
                    workout: [
                        { name: 'Squats Barre', sets: 4, reps: '8-10', rest: '2 min', notes: '' },
                        { name: 'D√©velopp√© Couch√©', sets: 4, reps: '8-10', rest: '2 min', notes: '' },
                        { name: 'Rowing Barre', sets: 4, reps: '8-10', rest: '2 min', notes: '' },
                        { name: 'D√©velopp√© Militaire', sets: 3, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: 'Tractions', sets: 3, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: 'Curl Halt√®res', sets: 3, reps: '10-12', rest: '70 sec', notes: '' },
                        { name: 'Dips', sets: 3, reps: '8-10', rest: '70 sec', notes: '' },
                        { name: 'Leg Curl', sets: 2, reps: '12-15', rest: '60 sec', notes: '' }
                    ]
                },
                advanced: {
                    workout: [
                        { name: 'Squats Barre', sets: 4, reps: '6-8', rest: '2.5 min', notes: 'Focus force' },
                        { name: 'D√©velopp√© Inclin√© Barre', sets: 3, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: 'Rowing Barre', sets: 4, reps: '6-8', rest: '2.5 min', notes: 'Focus force' },
                        { name: 'D√©velopp√© Militaire', sets: 3, reps: '6-8', rest: '2 min', notes: '' },
                        { name: 'Tractions Lest√©es', sets: 3, reps: '6-8', rest: '2 min', notes: '' },
                        { name: 'Curl Barre', sets: 3, reps: '8-10', rest: '90 sec', notes: '' },
                        { name: 'Dips', sets: 3, reps: '6-8', rest: '2 min', notes: '' },
                        { name: 'Leg Curl', sets: 3, reps: '10-12', rest: '70 sec', notes: '' }
                    ]
                }
            }
        };

        // Form submission
        document.getElementById('workoutForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // V√©rifier le paiement
            if (!paymentCompleted) {
                showError('‚ö†Ô∏è Veuillez d\'abord effectuer le paiement pour g√©n√©rer votre programme.');
                document.getElementById('paymentSection').scrollIntoView({ behavior: 'smooth' });
                return;
            }
            
            generateProgram();
        });

        function generateProgram() {
            // Afficher le spinner
            document.getElementById('loadingSpinner').classList.add('active');
            document.getElementById('programInfo').style.display = 'none';
            
            // Simuler un d√©lai de g√©n√©ration pour l'UX
            setTimeout(() => {
                // Get form values
                const weight = parseFloat(document.getElementById('weight').value);
                const goal = document.getElementById('goal').value;
                const experience = document.getElementById('experience').value;
                const sessionDuration = parseInt(document.getElementById('sessionDuration').value);
                const selectedDays = Array.from(document.querySelectorAll('input[name="days"]:checked'))
                    .map(cb => cb.value);

                // Validation
                const errorEl = document.getElementById('errorMessage');
                errorEl.classList.remove('active');

                if (!weight || weight < 50 || weight > 500) {
                    showError('Veuillez entrer un poids valide entre 50 et 500 lbs');
                    document.getElementById('loadingSpinner').classList.remove('active');
                    return;
                }

                if (!goal) {
                    showError('Veuillez s√©lectionner un objectif principal');
                    document.getElementById('loadingSpinner').classList.remove('active');
                    return;
                }

                if (!experience) {
                    showError('Veuillez s√©lectionner votre niveau d\'exp√©rience');
                    document.getElementById('loadingSpinner').classList.remove('active');
                    return;
                }

                if (selectedDays.length === 0) {
                    showError('Veuillez s√©lectionner au moins un jour d\'entra√Ænement');
                    document.getElementById('loadingSpinner').classList.remove('active');
                    return;
                }

                if (selectedDays.length > 6) {
                    showError('Veuillez s√©lectionner maximum 6 jours d\'entra√Ænement (il faut au moins un jour de repos)');
                    document.getElementById('loadingSpinner').classList.remove('active');
                    return;
                }

                // Generate the program
                const program = createProgram(weight, goal, experience, selectedDays, sessionDuration);
                displayProgram(program, goal, experience, selectedDays, sessionDuration);
                showSuccess('Programme g√©n√©r√© avec succ√®s !');
                
                // Masquer le spinner
                document.getElementById('loadingSpinner').classList.remove('active');
            }, 1500); // D√©lai de 1.5 secondes pour l'effet de g√©n√©ration
        }

        function createProgram(weight, goal, experience, selectedDays, duration) {
            const daysOfWeek = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'];
            const program = {};

            // Get workout data
            const goalWorkouts = workoutDatabase[goal][experience];

            // Distribute workouts across selected days with improved logic
            if (goal === 'endurance' || goal === 'weight-loss') {
                // Alternate cardio and strength optimally
                let isCardio = true;
                selectedDays.forEach((day, index) => {
                    // Start with cardio for endurance/weight-loss
                    if (index === 0) isCardio = true;
                    
                    if (isCardio && goalWorkouts.cardio) {
                        program[day] = goalWorkouts.cardio;
                    } else if (goalWorkouts.strength) {
                        program[day] = goalWorkouts.strength;
                    }
                    
                    // Alternate properly
                    isCardio = !isCardio;
                });
            } else if (goal === 'balanced') {
                // All days same workout structure for balanced approach
                selectedDays.forEach(day => {
                    program[day] = goalWorkouts.workout;
                });
            } else {
                // Improved alternation for strength/muscle goals
                // Start with upper body, then alternate
                let isUpper = true;
                selectedDays.forEach((day, index) => {
                    if (selectedDays.length === 1) {
                        // Single day: full body workout (upper focus)
                        program[day] = goalWorkouts.upper;
                    } else if (selectedDays.length === 2) {
                        // 2 days: upper/lower split
                        program[day] = isUpper ? goalWorkouts.upper : goalWorkouts.lower;
                        isUpper = !isUpper;
                    } else {
                        // 3+ days: proper upper/lower alternation
                        // Ensure we don't do same muscle group back-to-back
                        if (index === 0) {
                            isUpper = true; // Start with upper
                        }
                        program[day] = isUpper ? goalWorkouts.upper : goalWorkouts.lower;
                        isUpper = !isUpper;
                    }
                });
            }

            return program;
        }

        function displayProgram(program, goal, experience, selectedDays, duration) {
            const schedule = document.getElementById('workoutSchedule');
            schedule.innerHTML = '';

            let totalExercises = 0;
            let totalSets = 0;
            const allDays = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'];
            const restDays = allDays.filter(day => !selectedDays.includes(day));

            // Training days
            selectedDays.forEach(day => {
                const exercises = program[day];
                const dayEl = document.createElement('div');
                dayEl.className = 'workout-day';

                let dayHtml = `<h3>${day}</h3><ul class="exercise-list">`;

                if (Array.isArray(exercises)) {
                    exercises.forEach(exercise => {
                        totalExercises++;
                        totalSets += exercise.sets;
                        const details = `${exercise.sets} s√©ries √ó ${exercise.reps}${exercise.notes ? ' (' + exercise.notes + ')' : ''}`;
                        dayHtml += `<li class="exercise-item">
                            <div class="exercise-name">${exercise.name}</div>
                            <div class="exercise-details">${details}<br>Repos: ${exercise.rest}</div>
                        </li>`;
                    });
                }

                dayHtml += '</ul>';
                dayEl.innerHTML = dayHtml;
                schedule.appendChild(dayEl);
            });

            // Rest days - only show remaining days to complete the week
            restDays.forEach(day => {
                const dayEl = document.createElement('div');
                dayEl.className = 'workout-day rest-day';
                dayEl.innerHTML = `
                    <h3>${day}</h3>
                    <div class="rest-content">
                        <p>Jour de Repos & R√©cup√©ration</p>
                        <p>R√©cup√©ration active, √©tirements ou cardio l√©ger optionnel</p>
                    </div>
                `;
                schedule.appendChild(dayEl);
            });

            // Update summary stats
            document.getElementById('totalDays').textContent = selectedDays.length;
            document.getElementById('totalExercises').textContent = totalExercises;
            document.getElementById('totalVolume').textContent = totalSets;
            document.getElementById('weeklyHours').textContent = (selectedDays.length * duration / 60).toFixed(1);

            document.getElementById('summaryStats').style.display = 'grid';
            document.getElementById('programInfo').style.display = 'none';

            // Show results
            document.getElementById('resultsContainer').classList.add('active');
            document.querySelector('.results-container').scrollIntoView({ behavior: 'smooth' });
        }

        function showError(message) {
            const errorEl = document.getElementById('errorMessage');
            errorEl.textContent = message;
            errorEl.classList.add('active');
            errorEl.scrollIntoView({ behavior: 'smooth' });
            setTimeout(() => errorEl.classList.remove('active'), 5000);
        }

        function showSuccess(message) {
            const successEl = document.getElementById('successMessage');
            successEl.textContent = message;
            successEl.classList.add('active');
            setTimeout(() => successEl.classList.remove('active'), 3000);
        }

        function copyToClipboard() {
            const weight = document.getElementById('weight').value;
            const goal = document.getElementById('goal').value;
            const goalText = document.getElementById('goal').selectedOptions[0].text;
            const experience = document.getElementById('experience').value;
            const experienceText = document.getElementById('experience').selectedOptions[0].text;
            const selectedDays = Array.from(document.querySelectorAll('input[name="days"]:checked'))
                .map(cb => cb.value);

            let text = 'PROGRAMME D\'ENTRA√éNEMENT BANEWORKOUT\n';
            text += '========================================\n\n';
            text += `Poids: ${weight} lbs\n`;
            text += `Objectif: ${goalText}\n`;
            text += `Niveau: ${experienceText}\n`;
            text += `Jours d'entra√Ænement: ${selectedDays.join(', ')}\n\n`;
            text += 'PLANNING D\'ENTRA√éNEMENT:\n';
            text += '=========================\n\n';

            document.querySelectorAll('.workout-day').forEach(day => {
                const title = day.querySelector('h3').textContent;
                text += `${title}:\n`;

                const exercises = day.querySelectorAll('.exercise-item');
                if (exercises.length === 0) {
                    const restContent = day.querySelector('.rest-content');
                    if (restContent) {
                        text += '  Jour de Repos & R√©cup√©ration\n';
                        text += '  R√©cup√©ration active, √©tirements ou cardio l√©ger optionnel\n';
                    }
                } else {
                    exercises.forEach(ex => {
                        const name = ex.querySelector('.exercise-name').textContent;
                        const details = ex.querySelector('.exercise-details').textContent;
                        text += `  - ${name}\n    ${details.replace(/\n/g, '\n    ')}\n`;
                    });
                }
                text += '\n';
            });

            text += '\n========================================\n';
            text += 'Cr√©√© par BaneWorkout - Bastien Verdu\n';
            text += '√âdition workout-brothers\n';
            text += '========================================\n';

            navigator.clipboard.writeText(text).then(() => {
                const feedback = document.getElementById('copyFeedback');
                feedback.classList.add('active');
                setTimeout(() => feedback.classList.remove('active'), 2000);
            }).catch(err => {
                alert('Erreur lors de la copie. Veuillez r√©essayer.');
                console.error('Erreur de copie:', err);
            });
        }

        function downloadProgram() {
            const weight = document.getElementById('weight').value;
            const goal = document.getElementById('goal').value;
            const goalText = document.getElementById('goal').selectedOptions[0].text;
            const experience = document.getElementById('experience').value;
            const experienceText = document.getElementById('experience').selectedOptions[0].text;
            const selectedDays = Array.from(document.querySelectorAll('input[name="days"]:checked'))
                .map(cb => cb.value);

            let content = 'PROGRAMME D\'ENTRA√éNEMENT BANEWORKOUT\n';
            content += '========================================\n\n';
            content += `Poids: ${weight} lbs\n`;
            content += `Objectif: ${goalText}\n`;
            content += `Niveau: ${experienceText}\n`;
            content += `Jours d'entra√Ænement: ${selectedDays.join(', ')}\n`;
            content += `G√©n√©r√© le: ${new Date().toLocaleString('fr-FR')}\n\n`;
            content += 'PLANNING D\'ENTRA√éNEMENT:\n';
            content += '=========================\n\n';

            document.querySelectorAll('.workout-day').forEach(day => {
                const title = day.querySelector('h3').textContent;
                content += `${title}:\n`;

                const exercises = day.querySelectorAll('.exercise-item');
                if (exercises.length === 0) {
                    const restContent = day.querySelector('.rest-content');
                    if (restContent) {
                        content += '  Jour de Repos & R√©cup√©ration\n';
                        content += '  R√©cup√©ration active, √©tirements ou cardio l√©ger optionnel\n';
                    }
                } else {
                    exercises.forEach(ex => {
                        const name = ex.querySelector('.exercise-name').textContent;
                        const details = ex.querySelector('.exercise-details').textContent;
                        content += `  - ${name}\n    ${details.replace(/\n/g, '\n    ')}\n`;
                    });
                }
                content += '\n';
            });

            content += '\n========================================\n';
            content += 'Cr√©√© par BaneWorkout - Bastien Verdu\n';
            content += '√âdition workout-brothers\n';
            content += 'Email: therealbane666@gmail.com\n';
            content += '========================================\n\n';
            content += 'AVERTISSEMENT:\n';
            content += 'Consultez un professionnel de sant√© avant de commencer\n';
            content += 'tout nouveau programme d\'exercice physique.\n';

            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `bane-workout-${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);
        }
    </script>
</body>
</html>